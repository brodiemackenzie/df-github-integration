{
  "name": "ETL_BQ_JOIN",
  "appVersion": "801ff8d3-c5dc-11ee-8a6f-4e7940fc1606",
  "description": "Data Pipeline Application",
  "change": {
    "author": "cdap",
    "creationTimeMillis": 1707326132825,
    "latest": true,
    "description": ""
  },
  "configuration": "{\"resources\":{\"memoryMB\":2048.0,\"virtualCores\":1.0},\"driverResources\":{\"memoryMB\":2048.0,\"virtualCores\":1.0},\"connections\":[{\"from\":\"BigQuery\",\"to\":\"Joiner\"},{\"from\":\"Joiner\",\"to\":\"BigQuery3\"},{\"from\":\"BigQuery2\",\"to\":\"Joiner\"}],\"comments\":[],\"postActions\":[],\"properties\":{},\"processTimingEnabled\":true,\"stageLoggingEnabled\":false,\"stages\":[{\"name\":\"BigQuery\",\"plugin\":{\"name\":\"BigQueryTable\",\"type\":\"batchsource\",\"label\":\"BigQuery\",\"artifact\":{\"name\":\"google-cloud\",\"version\":\"0.22.2\",\"scope\":\"SYSTEM\"},\"properties\":{\"useConnection\":\"true\",\"connection\":\"${conn(BigQuery Default)}\",\"dataset\":\"demo\",\"table\":\"us_sdg\",\"enableQueryingViews\":\"false\",\"schema\":\"{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"output\\\",\\\"fields\\\":[{\\\"name\\\":\\\"geoareaname\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"timeperiod\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"value\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]}]}\"}},\"outputSchema\":[{\"name\":\"etlSchemaBody\",\"schema\":\"{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"output\\\",\\\"fields\\\":[{\\\"name\\\":\\\"geoareaname\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"timeperiod\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"value\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]}]}\"}],\"id\":\"BigQuery\"},{\"name\":\"Joiner\",\"plugin\":{\"name\":\"Joiner\",\"type\":\"batchjoiner\",\"label\":\"Joiner\",\"artifact\":{\"name\":\"core-plugins\",\"version\":\"2.11.2\",\"scope\":\"SYSTEM\"},\"properties\":{\"selectedFields\":\"BigQuery.geoareaname as geoareaname,BigQuery.timeperiod as timeperiod,BigQuery.value as value,BigQuery2.country_name as country_name,BigQuery2.year as year,BigQuery2.population as population\",\"requiredInputs\":\"BigQuery,BigQuery2\",\"conditionType\":\"basic\",\"joinKeys\":\"BigQuery.geoareaname \\u003d BigQuery2.country_name \\u0026 BigQuery.timeperiod \\u003d BigQuery2.year\",\"joinNullKeys\":\"false\",\"distributionEnabled\":\"false\",\"schema\":\"{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"join.typeoutput\\\",\\\"fields\\\":[{\\\"name\\\":\\\"geoareaname\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"timeperiod\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"value\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"country_name\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"year\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"population\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]}]}\"}},\"outputSchema\":[{\"name\":\"etlSchemaBody\",\"schema\":\"{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"join.typeoutput\\\",\\\"fields\\\":[{\\\"name\\\":\\\"geoareaname\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"timeperiod\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"value\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"country_name\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"year\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"population\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]}]}\"}],\"inputSchema\":[{\"name\":\"BigQuery\",\"schema\":\"{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"output\\\",\\\"fields\\\":[{\\\"name\\\":\\\"geoareaname\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"timeperiod\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"value\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]}]}\"},{\"name\":\"BigQuery2\",\"schema\":\"{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"output\\\",\\\"fields\\\":[{\\\"name\\\":\\\"country_name\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"year\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"population\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]}]}\"}],\"id\":\"Joiner\"},{\"name\":\"BigQuery3\",\"plugin\":{\"name\":\"BigQueryTable\",\"type\":\"batchsink\",\"label\":\"BigQuery3\",\"artifact\":{\"name\":\"google-cloud\",\"version\":\"0.22.2\",\"scope\":\"SYSTEM\"},\"properties\":{\"useConnection\":\"false\",\"project\":\"auto-detect\",\"serviceAccountType\":\"filePath\",\"serviceFilePath\":\"auto-detect\",\"dataset\":\"demo\",\"table\":\"un_sdg_wdi_joined\",\"operation\":\"insert\",\"truncateTable\":\"false\",\"allowSchemaRelaxation\":\"false\",\"location\":\"US\",\"createPartitionedTable\":\"false\",\"partitioningType\":\"NONE\",\"schema\":\"{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"join.typeoutput\\\",\\\"fields\\\":[{\\\"name\\\":\\\"geoareaname\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"timeperiod\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"value\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"country_name\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"year\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"population\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]}]}\"}},\"outputSchema\":[{\"name\":\"etlSchemaBody\",\"schema\":\"{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"join.typeoutput\\\",\\\"fields\\\":[{\\\"name\\\":\\\"geoareaname\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"timeperiod\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"value\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"country_name\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"year\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"population\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]}]}\"}],\"inputSchema\":[{\"name\":\"Joiner\",\"schema\":\"{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"join.typeoutput\\\",\\\"fields\\\":[{\\\"name\\\":\\\"geoareaname\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"timeperiod\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"value\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"country_name\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"year\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"population\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]}]}\"}],\"id\":\"BigQuery3\"},{\"name\":\"BigQuery2\",\"plugin\":{\"name\":\"BigQueryTable\",\"type\":\"batchsource\",\"label\":\"BigQuery2\",\"artifact\":{\"name\":\"google-cloud\",\"version\":\"0.22.2\",\"scope\":\"SYSTEM\"},\"properties\":{\"useConnection\":\"true\",\"connection\":\"${conn(BigQuery Default)}\",\"dataset\":\"demo\",\"table\":\"world_bank_wdi\",\"enableQueryingViews\":\"false\",\"schema\":\"{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"output\\\",\\\"fields\\\":[{\\\"name\\\":\\\"country_name\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"year\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"population\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]}]}\"}},\"outputSchema\":[{\"name\":\"etlSchemaBody\",\"schema\":\"{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"output\\\",\\\"fields\\\":[{\\\"name\\\":\\\"country_name\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"year\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"population\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]}]}\"}],\"id\":\"BigQuery2\"}],\"schedule\":\"0 1 */1 * *\",\"engine\":\"spark\",\"numOfRecordsPreview\":100.0,\"rangeRecordsPreview\":{\"min\":1.0,\"max\":\"5000\"},\"description\":\"Data Pipeline Application\",\"maxConcurrentRuns\":1.0}",
  "datasets": [],
  "programs": [
    {
      "type": "Spark",
      "app": "ETL_BQ_JOIN",
      "name": "phase-1",
      "description": "Sources \u0027BigQuery\u0027, \u0027BigQuery2\u0027 to sinks \u0027BigQuery3\u0027."
    },
    {
      "type": "Workflow",
      "app": "ETL_BQ_JOIN",
      "name": "DataPipelineWorkflow",
      "description": "Data Pipeline Workflow"
    }
  ],
  "plugins": [
    {
      "id": "BigQuery2",
      "name": "BigQueryTable",
      "type": "batchsource"
    },
    {
      "id": "BigQuery3",
      "name": "BigQueryTable",
      "type": "batchsink"
    },
    {
      "id": "Joiner",
      "name": "Joiner",
      "type": "batchjoiner"
    },
    {
      "id": "BigQuery",
      "name": "BigQueryTable",
      "type": "batchsource"
    }
  ],
  "artifact": {
    "name": "cdap-data-pipeline",
    "version": "6.9.2",
    "scope": "SYSTEM"
  }
}